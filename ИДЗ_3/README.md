# ИДЗ 3
## Обработка строк символов

### Задание
**Вариант 6**
Разработать программу, заменяющую все согласные буквы в заданной ASCII–строке их ASCII кодами в десятичной системе
счисления.\
**Выполнил**: Бакиров Даниал Жандарбекович БПИ226\
Работа на 10 баллов
### ОБЗОР КОДА
**main.asm**
<image src="/ИДЗ_3/img/main1.png">\
<image src="/ИДЗ_3/img/main2.png">\
Тут происходит вызов всех подпрограм. В принципе, все методы подписаны комментариями. Использую тут библиотеку макросов.
В конце идет проверка на Y or N для вывода результата, который был записан в файл.




**macros.asm**
<image src="/ИДЗ_3/img/macros1.png"> \
<image src="/ИДЗ_3/img/macros2.png"> \
read_file читаем инфо из файла
write_file записываем информацию в файл
change_con меняем согласные буквы на их код в ASCII.
Эти методы обращаются к отдельным подпрограммам.
Остальные методы довольно очевидны




**stack.asm**
<image src="/ИДЗ_3/img/stack.png"> \
Реализация методов стека. PUSH AND POP



**writefile.asm**
<image src="/ИДЗ_3/img/writefile1.png"> \
Вызывается для записи изменненрой строки в файл. 
Проверям название файла и заменяем \n на \0.
Потом открываем файл и производим запись, в конце закрываем.
В качестве параметров передавал а5 - filename, a6 - buffet, a2 - strlen.





**readfile.asm**
<image src="/ИДЗ_3/img/readfile1.png"> \
<image src="/ИДЗ_3/img/readfile2.png"> \
Вызывается для записи изменненрой строки в файл. 
Проверям название файла и заменяем \n на \0.
Потом открываем файл и производим чтение строки в буффер, в конце закрываем.
В качестве параметров передавал а5 - filename, a6 - buffet.



**change_consonants.asm**
<image src="/ИДЗ_3/img/chc1.png"> \
<image src="/ИДЗ_3/img/chc2.png"> \
<image src="/ИДЗ_3/img/chc3.png"> \
<image src="/ИДЗ_3/img/chc4.png"> \
<image src="/ИДЗ_3/img/chc5.png"> \
<image src="/ИДЗ_3/img/chc6.png"> \
В качестве параметров передаю а5 - исходный буффер, а6 - буфер куда записываем изменненую строку.
Дальше идет загрузка в стек.\
Далее идет добавление элементов которые не надо меня в тупую в массив. Там сделано все очень прямо, не будет на этом останавливаться.
start:\ в начале я задаю границу равную 55 для массива с элементами.\
Далее ставлю указатель на начало массива, выгружаю символ из strbuf и делаю проверку, что символ не нулевой\
chech_loop:\ Далее проверяю, равен ли наш символ элементу из масива, если да, то не изменяя, нет идем дальше пока массив не закончится и заменяем букву на число.
replace:\
Здесь идет проверка, является ли число трехзначным. Если да, то идет один расчет, если нет, то другой. Суть расчетов в том, что мы находих цифру из числа, затем прибавляем к ней 48 и получаем код этой цифры в ASCII. 

В конце строки добавляем ноль.

### Тесты вводимые с клавиатуры

<image src="/ИДЗ_3/img/test1.png"> \
<image src="/ИДЗ_3/img/test3.png"> \
Вот они.


### АВТОТЕСТЫ
Инструкция, как это все запустить\
Переходим в папку autotest и запускаем файл main.py\
<image src="/ИДЗ_3/img/autotest1.png"> \
Далее вводим в expected_output результат который мы хотим видеть, не забудь input.txt поменять в строку, которая должна обработаться под условие задачи.\
rars_path и assembler_program_path нужно поменять на свои. Нажимаем запустить
<image src="/ИДЗ_3/img/autotest2.png"> \
<image src="/ИДЗ_3/img/autotest3.png"> \




### Требования
**4 - 5 баллов** ЕСТЬ
• Приведено решение программы на ассемблере. Программа из файла читает данные. Результаты записываются в другой файл.
• Все изменяемые параметры программы вводятся с консоли.
• В программе присутствуют комментарии, поясняющие выполняемые ей действия.
• Обработка данных, полученных из файла сформирована в виде отдельной подпрограммы.
• В подкаталоге данных присутствуют файлы, используемые для тестирования.
• Буфер для текста программы имеет фиксированный размер размером не менее 4096 байт, допускающий ввод без искажений только
тексты, ограниченные этим размером.
• При чтении файла размером, превышающим размер буфера, не
должно происходить падения программы. Программа должна корректно обработать введенный «урезанный» текст.
• Сформирован отчет с результатами тестовых прогонов и описанием используемых опций компиляции, проведенных модификаций
ассемблерной программы.
При невыполнении хотя бы одного из требований оценка снижается на
балл.


**6 - 7 баллов**\ ЕСТЬ
• Внутри функций необходимо использовать регистровые или локальные (при нехватке) переменные.
• Для чтения текста из файла реализовать буфер ограниченного размера, равного 512 байтам. При этом программа должна читать файлы размером до 10 килобайт.
• Реализовать ввод исходных данных, их обработку, вывод результатов через соответствующие подпрограммы. Подпрограммы должны
получать необходимые им данные через параметры в соответствии
с принятым соглашением о передаче параметров.
• Возвращаемые из подпрограмм значения должны возвращаться через параметры в соответствии с общепринятыми соглашениями.
• Расширить отчет, дополнив его новыми данными.

**8 баллов** ЕСТЬ
Добавить в программу возможность дополнительного вывода результатов на консоль. Выводить или нет решает пользователь отвечая «Y» или «N» на соответствующий вопрос компьютерной программы. Данная возможность полезна при быстром отображении
коротких данных. Вывод программы при этом должен полностью
соответствовать выводу результатов в файл.
• Реализовать дополнительную тестовую программу которая осуществляет многократный вызов процедур, обеспечивающих ввод файлов,
их обработку и вывод для различных исходных данных, расположенных в каталоге с исходными тестовыми данными.
2
• Расширить отчет, дополнив его новыми данными.

**9 баллов** ЕСТЬ
Добавить в программу использование макросов для реализации
ввода, вывода, и обработки данных. Макросы должны поддерживать повторное использование с различными массивами и другими
параметрами. Внутри макросов должны быть расположены вызовы соответствующих подпрограмм.
• Реализовать дополнительную тестовую программу, которая вызывает выполняемые подпрограммы через макросы, реализуя ту же
функциональность, что и предыдущая тестовая программа. Это
должна быть дополнительная тестовая программа.
• Расширить отчет, дополнив его новыми данными.
При невыполнении хотя бы одного из требований оценка снижается на
балл.

**10 баллов** ЕСТЬ
Программа должна быть разбита на несколько единиц компиляции. При этом подпрограммы ввода–вывода должны составлять
унифицированные модули, используемые повторно как в программе, осуществляющей ввод исходных данных, так и в программе,
осуществляющей тестовое покрытие.
• Макросы должны быть выделены в отдельную автономную библиотеку
3
• Использовать дополнительные графические диалоговые окна для
ввода и отображения диалогов, предоставляемые симулятором RARS.
• Расширить отчет, дополнив его новыми данными.

<image src="/ИДЗ_3/img/ten1.png"> \
<image src="/ИДЗ_3/img/ten2.png"> \
Это настройка в rars 